<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>拖拽</title>
  <style>
    #box1 {
      width: 50px;
      height: 50px;
      background-color: red;
      position: absolute;
    }
  </style>
  <script>
    window.onload = function () {
      // 为box1绑定一个鼠标按下事件
      var box1 = document.getElementById('box1')
      // 当鼠标在目标元素上被按下时 开始拖拽
      box1.onmousedown = function (event) {
        var ol = event.clientX - box1.offsetLeft
        var ot = event.clientY - box1.offsetTop
        // 为document绑定一个onmousemove事件
        // div的水平偏移量 鼠标.clientX - 元素.offsetLeft
        // div的垂直偏移量 鼠标.clientY - 元素.offsetTop
        document.onmousemove = function (event) {
          event = event || window.event
          // 获取鼠标的坐标
          var left = event.clientX - ol
          var top = event.clientY - ot
          box1.style.left = left + 'px'
          box1.style.top = top + 'px'
        }
      }
      document.onmouseup = function () {
        document.onmousemove = null
        document.onmousedown = null
      }
    }
  </script>
</head>

<body>
  <div id="box1"></div>
</body>

</html>